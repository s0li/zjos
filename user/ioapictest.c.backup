#include <inc/stdio.h>
#include <inc/trap.h>
#include <inc/lib.h>

#define TIME	(sys_time_msec() / 1000)

//int		sys_interrupt_redirect(uint32_t vector, uint32_t cpunum);
void umain(int argc, char **argv) {
	int i;
	int c;
	/* for (i = 0; i < 1000000000; ++i) */
	/* 	c = 0; */

	/* cprintf("after  loop ----------------------------------------\n"); */
	/* sys_interrupt_redirect(IRQ_KBD, 1); */
		
	/* for (i = 0; i < 1000000000; ++i) */
	/* 	c = 0; */

	/* cprintf("after  loop ----------------------------------------\n"); */

	/* sys_interrupt_redirect(IRQ_KBD, 2); */
	
	/* for (i = 0; i < 1000000000; ++i) */
	/* 	c = 0; */

	/* cprintf("after  loop ----------------------------------------\n"); */

	/* sys_interrupt_redirect(IRQ_KBD, 0); */

	/* for (i = 0; i < 1000000000; ++i) */
	/* 	c = 0; */

	/* cprintf("after  loop ----------------------------------------\n"); */

	c = getchar();
	sys_interrupt_redirect(IRQ_KBD, 1);
	c = getchar();
	sys_interrupt_redirect(IRQ_KBD, 2);
	c = getchar();
	sys_interrupt_redirect(IRQ_KBD, 3);
	c = getchar();
	sys_interrupt_redirect(IRQ_KBD, 0);	
}
